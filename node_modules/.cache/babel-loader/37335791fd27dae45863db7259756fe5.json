{"ast":null,"code":"var _jsxFileName = \"/home/anand/Downloads/react-project/learncode/src/components/speech.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport style from './style';\nimport SpeechSynthesis from './speechSynthesis';\nimport Button from './button';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Speech extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      styles: this.props.styles !== undefined ? this.props.styles : style\n    };\n    this.play = this.play.bind(this);\n    this.pause = this.pause.bind(this);\n    this.resume = this.resume.bind(this);\n    this.stop = this.stop.bind(this);\n    this.onend = this.onend.bind(this);\n    this.onerror = this.onerror.bind(this);\n  }\n\n  componentDidMount() {\n    this.setButtonState('all', 'none', 'none', 'none');\n  }\n\n  setButtonState(play, stop, pause, resume) {\n    var newState = update(this.state, {\n      styles: {\n        play: {\n          button: {\n            pointerEvents: {\n              $set: play\n            }\n          }\n        },\n        stop: {\n          button: {\n            pointerEvents: {\n              $set: stop\n            }\n          }\n        },\n        pause: {\n          button: {\n            pointerEvents: {\n              $set: pause\n            }\n          }\n        },\n        resume: {\n          button: {\n            pointerEvents: {\n              $set: resume\n            }\n          }\n        }\n      }\n    });\n    this.setState(newState);\n  }\n\n  setSpeechSynthesis() {\n    this.speechSynthesis = new SpeechSynthesis(this.props);\n    this.speechSynthesis.onend(this.onend);\n    this.speechSynthesis.onerror(this.onerror);\n  }\n\n  play() {\n    this.setSpeechSynthesis();\n    this.speechSynthesis.speak();\n    this.setButtonState('none', 'all', 'all', 'none');\n  }\n\n  pause() {\n    this.speechSynthesis.pause();\n    this.setButtonState('none', 'all', 'none', 'all');\n  }\n\n  resume() {\n    this.speechSynthesis.resume();\n    this.setButtonState('none', 'all', 'all', 'none');\n  }\n\n  stop() {\n    this.speechSynthesis.cancel();\n    this.setButtonState('all', 'none', 'none', 'none');\n  }\n\n  onend() {\n    this.stop();\n  }\n\n  onerror() {\n    this.stop();\n  }\n\n  render() {\n    if (this.props.disabled || !SpeechSynthesis.supported()) {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"rs-container\",\n        style: this.state.styles.container,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rs-text\",\n          style: this.state.styles.text,\n          children: this.props.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this);\n    }\n\n    var play;\n    var stop;\n    var pause;\n    var resume;\n\n    if (this.props.textAsButton) {\n      play = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"rs-play\",\n        styles: this.state.styles.play,\n        onClick: this.play,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"rs-text\",\n          style: this.state.styles.text,\n          children: this.props.displayText || this.props.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this);\n    } else {\n      play = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"rs-play\",\n        styles: this.state.styles.play,\n        onClick: this.play,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: this.state.styles.play.width,\n          height: this.state.styles.play.height,\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M8 5v14l11-7z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0 0h24v24H0z\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.props.stop) {\n      stop = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"rs-stop\",\n        styles: this.state.styles.stop,\n        onClick: this.stop,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: this.state.styles.stop.width,\n          height: this.state.styles.stop.height,\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0 0h24v24H0z\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M6 6h12v12H6z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.props.pause) {\n      pause = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"rs-pause\",\n        styles: this.state.styles.pause,\n        onClick: this.pause,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: this.state.styles.pause.width,\n          height: this.state.styles.pause.height,\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M6 19h4V5H6v14zm8-14v14h4V5h-4z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0 0h24v24H0z\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this);\n    }\n\n    if (this.props.resume) {\n      resume = /*#__PURE__*/_jsxDEV(Button, {\n        className: \"rs-resume\",\n        styles: this.state.styles.resume,\n        onClick: this.resume,\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: this.state.styles.resume.width,\n          height: this.state.styles.resume.height,\n          viewBox: \"0 0 24 24\",\n          children: [/*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M0 0h24v24H0z\",\n            fill: \"none\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"rs-container\",\n      style: this.state.styles.container,\n      children: [play, \" \", stop, \" \", pause, \" \", resume]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this);\n  }\n\n}\nSpeech.propTypes = {\n  styles: PropTypes.object,\n  text: PropTypes.string.isRequired,\n  pitch: PropTypes.string,\n  rate: PropTypes.string,\n  volume: PropTypes.string,\n  lang: PropTypes.string,\n  voiceURI: PropTypes.string,\n  voice: PropTypes.string,\n  textAsButton: PropTypes.bool,\n  displayText: PropTypes.string,\n  disabled: PropTypes.bool,\n  stop: PropTypes.bool,\n  pause: PropTypes.bool,\n  resume: PropTypes.bool\n};","map":{"version":3,"sources":["/home/anand/Downloads/react-project/learncode/src/components/speech.js"],"names":["React","Component","PropTypes","update","style","SpeechSynthesis","Button","Speech","constructor","props","state","styles","undefined","play","bind","pause","resume","stop","onend","onerror","componentDidMount","setButtonState","newState","button","pointerEvents","$set","setState","setSpeechSynthesis","speechSynthesis","speak","cancel","render","disabled","supported","container","text","textAsButton","displayText","width","height","propTypes","object","string","isRequired","pitch","rate","volume","lang","voiceURI","voice","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport style from './style';\nimport SpeechSynthesis from './speechSynthesis';\nimport Button from './button';\n\nexport default class Speech extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      styles: this.props.styles !== undefined ? this.props.styles : style\n    };\n    this.play = this.play.bind(this);\n    this.pause = this.pause.bind(this);\n    this.resume = this.resume.bind(this);\n    this.stop = this.stop.bind(this);\n    this.onend = this.onend.bind(this);\n    this.onerror = this.onerror.bind(this);\n  }\n\n  componentDidMount() {\n    this.setButtonState('all', 'none', 'none', 'none');\n  }\n\n  setButtonState(play, stop, pause, resume) {\n    var newState = update(this.state, {\n      styles: {\n        play: { button: { pointerEvents: { $set: play } } },\n        stop: { button: { pointerEvents: { $set: stop } } },\n        pause: { button: { pointerEvents: { $set: pause } } },\n        resume: { button: { pointerEvents: { $set: resume } } }\n      }\n    });\n\n    this.setState(newState);\n  }\n\n  setSpeechSynthesis() {\n    this.speechSynthesis = new SpeechSynthesis(this.props);\n    this.speechSynthesis.onend(this.onend);\n    this.speechSynthesis.onerror(this.onerror);\n  }\n\n  play() {\n    this.setSpeechSynthesis();\n    this.speechSynthesis.speak();\n    this.setButtonState('none', 'all', 'all', 'none');\n  }\n\n  pause() {\n    this.speechSynthesis.pause();\n    this.setButtonState('none', 'all', 'none', 'all');\n  }\n\n  resume() {\n    this.speechSynthesis.resume();\n    this.setButtonState('none', 'all', 'all', 'none');\n  }\n\n  stop() {\n    this.speechSynthesis.cancel();\n    this.setButtonState('all', 'none', 'none', 'none');\n  }\n\n  onend() {\n    this.stop();\n  }\n\n  onerror() {\n    this.stop();\n  }\n\n  render() {\n    if (this.props.disabled || !SpeechSynthesis.supported()) {\n      return (\n        <span className=\"rs-container\" style={this.state.styles.container}>\n          <span className=\"rs-text\" style={this.state.styles.text}>\n            {this.props.text}\n          </span>\n        </span>\n      );\n    }\n\n    var play;\n    var stop;\n    var pause;\n    var resume;\n\n    if (this.props.textAsButton) {\n      play = (\n        <Button\n          className=\"rs-play\"\n          styles={this.state.styles.play}\n          onClick={this.play}\n        >\n          <span className=\"rs-text\" style={this.state.styles.text}>\n            {this.props.displayText || this.props.text}\n          </span>\n        </Button>\n      );\n    } else {\n      play = (\n        <Button\n          className=\"rs-play\"\n          styles={this.state.styles.play}\n          onClick={this.play}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={this.state.styles.play.width}\n            height={this.state.styles.play.height}\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M8 5v14l11-7z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </Button>\n      );\n    }\n\n    if (this.props.stop) {\n      stop = (\n        <Button\n          className=\"rs-stop\"\n          styles={this.state.styles.stop}\n          onClick={this.stop}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={this.state.styles.stop.width}\n            height={this.state.styles.stop.height}\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M6 6h12v12H6z\" />\n          </svg>\n        </Button>\n      );\n    }\n\n    if (this.props.pause) {\n      pause = (\n        <Button\n          className=\"rs-pause\"\n          styles={this.state.styles.pause}\n          onClick={this.pause}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={this.state.styles.pause.width}\n            height={this.state.styles.pause.height}\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M6 19h4V5H6v14zm8-14v14h4V5h-4z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </Button>\n      );\n    }\n\n    if (this.props.resume) {\n      resume = (\n        <Button\n          className=\"rs-resume\"\n          styles={this.state.styles.resume}\n          onClick={this.resume}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width={this.state.styles.resume.width}\n            height={this.state.styles.resume.height}\n            viewBox=\"0 0 24 24\"\n          >\n            <path d=\"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z\" />\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n          </svg>\n        </Button>\n      );\n    }\n\n    return (\n      <span className=\"rs-container\" style={this.state.styles.container}>\n        {play} {stop} {pause} {resume}\n      </span>\n    );\n  }\n}\n\nSpeech.propTypes = {\n  styles: PropTypes.object,\n  text: PropTypes.string.isRequired,\n  pitch: PropTypes.string,\n  rate: PropTypes.string,\n  volume: PropTypes.string,\n  lang: PropTypes.string,\n  voiceURI: PropTypes.string,\n  voice: PropTypes.string,\n  textAsButton: PropTypes.bool,\n  displayText: PropTypes.string,\n  disabled: PropTypes.bool,\n  stop: PropTypes.bool,\n  pause: PropTypes.bool,\n  resume: PropTypes.bool\n};\n"]},"metadata":{},"sourceType":"module"}